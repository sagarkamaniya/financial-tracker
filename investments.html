<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investments - Financial Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center p-4">
    <div class="w-full max-w-md sm:max-w-lg bg-white rounded-lg shadow-md p-6">
        <h1 class="text-2xl font-bold text-center text-teal-600 mb-6">Investments</h1>
     <nav class="flex flex-col sm:flex-row gap-2 mb-4">
    <a href="index.html" class="flex-1 p-2 text-center bg-gray-500 text-white rounded hover:bg-gray-600">Home</a>
    <a href="income.html" class="flex-1 p-2 text-center bg-emerald-500 text-white rounded hover:bg-emerald-600">Income</a>
    <a href="expenses.html" class="flex-1 p-2 text-center bg-blue-600 text-white rounded hover:bg-blue-700">Expenses</a>
    <a href="fuel-cost.html" class="flex-1 p-2 text-center bg-purple-600 text-white rounded hover:bg-purple-700">Fuel Cost</a>
    <a href="investments.html" class="flex-1 p-2 text-center bg-teal-600 text-white rounded hover:bg-teal-700">Investments</a>
    <a href="net-worth.html" class="flex-1 p-2 text-center bg-indigo-600 text-white rounded hover:bg-indigo-700">Net Worth</a>
    <a href="statements.html" class="flex-1 p-2 text-center bg-amber-600 text-white rounded hover:bg-amber-700">Statements</a>
    <a href="loans-lending.html" class="flex-1 p-2 text-center bg-rose-600 text-white rounded hover:bg-rose-700">Loans & Lending</a>
</nav>
        <div class="mb-6">
            <input type="text" id="investmentDescription" placeholder="Description" class="w-full p-2 mb-2 border rounded focus:outline-none focus:ring-2 focus:ring-teal-500">
            <input type="number" id="investmentAmount" placeholder="Amount" class="w-full p-2 mb-2 border rounded focus:outline-none focus:ring-2 focus:ring-teal-500">
            <select id="investmentCategory" class="w-full p-2 mb-2 border rounded focus:outline-none focus:ring-2 focus:ring-teal-500">
                <option value="Stocks">Stocks</option>
                <option value="Bonds">Bonds</option>
                <option value="Real Estate">Real Estate</option>
                <option value="Crypto">Crypto</option>
                <option value="Other">Other</option>
            </select>
            <button onclick="addInvestment()" class="w-full bg-teal-600 text-white p-2 rounded hover:bg-teal-700">Add Investment</button>
        </div>
        <div id="investmentList" class="mb-4"></div>
        <div class="text-lg font-semibold text-teal-600">Total Investments: ₹<span id="totalInvestment">0.00</span></div>
    </div>

    <script defer>
        let investments = JSON.parse(localStorage.getItem('investments')) || [];

        function addInvestment() {
            try {
                const description = document.getElementById('investmentDescription').value;
                const amount = parseFloat(document.getElementById('investmentAmount').value);
                const category = document.getElementById('investmentCategory').value;
                if (description && !isNaN(amount) && amount > 0) {
                    const timestamp = new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' });
                    investments.push({ id: Date.now(), description, amount, category, timestamp });
                    localStorage.setItem('investments', JSON.stringify(investments));
                    document.getElementById('investmentDescription').value = '';
                    document.getElementById('investmentAmount').value = '';
                    renderInvestments();
                } else {
                    alert('Please enter a valid description and amount.');
                }
            } catch (e) {
                console.error('Error in addInvestment:', e);
                alert('An error occurred while adding investment. Please try again.');
            }
        }

        function deleteInvestment(id) {
            try {
                investments = investments.filter(item => item.id !== id);
                localStorage.setItem('investments', JSON.stringify(investments));
                renderInvestments();
            } catch (e) {
                console.error('Error in deleteInvestment:', e);
                alert('An error occurred while deleting investment. Please try again.');
            }
        }

        function renderInvestments() {
            try {
                const investmentList = document.getElementById('investmentList');
                investmentList.innerHTML = '';
                let total = 0;
                investments.forEach(investment => {
                    total += investment.amount;
                    const div = document.createElement('div');
                    div.className = 'flex justify-between items-center p-2 border-b border-teal-200';
                    div.innerHTML = `
                        <div>
                            <span class="font-medium text-teal-700">${investment.description}</span> 
                            <span class="text-sm text-gray-500">(${investment.category}, ${investment.timestamp})</span>
                        </div>
                        <div>
                            <span class="text-teal-600">₹${investment.amount.toFixed(2)}</span>
                            <button onclick="deleteInvestment(${investment.id})" class="ml-2 text-red-500 hover:text-red-700">Delete</button>
                        </div>
                    `;
                    investmentList.appendChild(div);
                });
                document.getElementById('totalInvestment').textContent = total.toFixed(2);
            } catch (e) {
                console.error('Error in renderInvestments:', e);
                alert('An error occurred while rendering investments. Please try again.');
            }
        }

        try {
            renderInvestments();
        } catch (e) {
            console.error('Error during initial render:', e);
            alert('An error occurred while loading the page. Please refresh.');
        }
    </script>
</body>
</html>