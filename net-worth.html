<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net Worth - Financial Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center p-4">
    <div class="w-full max-w-md sm:max-w-lg bg-white rounded-lg shadow-md p-6">
        <h1 class="text-2xl font-bold text-center text-indigo-600 mb-6">Net Worth</h1>
       <nav class="flex flex-col sm:flex-row gap-2 mb-4">
    <a href="index.html" class="flex-1 p-2 text-center bg-gray-500 text-white rounded hover:bg-gray-600">Home</a>
    <a href="income.html" class="flex-1 p-2 text-center bg-emerald-500 text-white rounded hover:bg-emerald-600">Income</a>
    <a href="expenses.html" class="flex-1 p-2 text-center bg-blue-600 text-white rounded hover:bg-blue-700">Expenses</a>
    <a href="fuel-cost.html" class="flex-1 p-2 text-center bg-purple-600 text-white rounded hover:bg-purple-700">Fuel Cost</a>
    <a href="investments.html" class="flex-1 p-2 text-center bg-teal-600 text-white rounded hover:bg-teal-700">Investments</a>
    <a href="net-worth.html" class="flex-1 p-2 text-center bg-indigo-600 text-white rounded hover:bg-indigo-700">Net Worth</a>
    <a href="statements.html" class="flex-1 p-2 text-center bg-amber-600 text-white rounded hover:bg-amber-700">Statements</a>
    <a href="loans-lending.html" class="flex-1 p-2 text-center bg-rose-600 text-white rounded hover:bg-rose-700">Loans & Lending</a>
    <a href="settings.html" class="flex-1 p-2 text-center bg-violet-600 text-white rounded hover:bg-violet-700">Settings</a>
</nav>
        <div class="text-lg font-semibold text-indigo-600 mb-4">
            <p>Total Income: ₹<span id="networthIncome">0.00</span></p>
            <p>Total Expenses: ₹<span id="networthExpense">0.00</span></p>
            <p>Total Investments: ₹<span id="networthInvestment">0.00</span></p>
            <p>Total Loans (Borrowed): ₹<span id="networthLoans">0.00</span></p>
            <p>Total Lending (Lent): ₹<span id="networthLending">0.00</span></p>
            <p class="text-xl font-bold mt-2">Net Worth: ₹<span id="netWorth">0.00</span></p>
        </div>
    </div>

    <script defer>
        let incomes = JSON.parse(localStorage.getItem('incomes')) || [];
        let expenses = JSON.parse(localStorage.getItem('expenses')) || [];
        let investments = JSON.parse(localStorage.getItem('investments')) || [];
        let loans = JSON.parse(localStorage.getItem('loans')) || [];

        function renderNetWorth() {
            try {
                const totalIncome = incomes.reduce((sum, item) => sum + item.amount, 0);
                const totalExpense = expenses.reduce((sum, item) => sum + item.amount, 0);
                const totalInvestment = investments.reduce((sum, item) => sum + item.amount, 0);
                const totalLoans = loans
                    .filter(loan => loan.type === 'loan')
                    .reduce((sum, loan) => sum + loan.totalAmount, 0);
                const totalLending = loans
                    .filter(loan => loan.type === 'lending')
                    .reduce((sum, loan) => sum + loan.totalAmount, 0);
                const netWorth = totalIncome + totalInvestment + totalLending - totalExpense - totalLoans;

                document.getElementById('networthIncome').textContent = totalIncome.toFixed(2);
                document.getElementById('networthExpense').textContent = totalExpense.toFixed(2);
                document.getElementById('networthInvestment').textContent = totalInvestment.toFixed(2);
                document.getElementById('networthLoans').textContent = totalLoans.toFixed(2);
                document.getElementById('networthLending').textContent = totalLending.toFixed(2);
                document.getElementById('netWorth').textContent = netWorth.toFixed(2);
            } catch (e) {
                console.error('Error in renderNetWorth:', e);
                alert('An error occurred while calculating net worth. Please try again.');
            }
        }

        try {
            renderNetWorth();
        } catch (e) {
            console.error('Error during initial render:', e);
            alert('An error occurred while loading the page. Please refresh.');
        }
    </script>
</body>
</html>