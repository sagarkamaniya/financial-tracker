<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statements</title>
    <!-- Link to compiled Tailwind CSS -->
    <link href="styles.css" rel="stylesheet">
    <!-- Include html2pdf.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body class="font-sans antialiased m-0 p-0 min-h-screen bg-gray-100">
    <nav class="bg-gray-800 p-4">
        <ul class="list-none p-0 flex flex-col sm:flex-row sm:gap-4">
            <li class="mb-2 sm:mb-0"><a href="#" class="text-white no-underline text-base hover:text-gray-300">Home</a></li>
            <li class="mb-2 sm:mb-0"><a href="#" class="text-white no-underline text-base hover:text-gray-300">Income</a></li>
            <li class="mb-2 sm:mb-0"><a href="#" class="text-white no-underline text-base hover:text-gray-300">Expenses</a></li>
            <li class="mb-2 sm:mb-0"><a href="#" class="text-white no-underline text-base hover:text-gray-300">Fuel Cost</a></li>
            <li class="mb-2 sm:mb-0"><a href="#" class="text-white no-underline text-base hover:text-gray-300">Investments</a></li>
            <li class="mb-2 sm:mb-0"><a href="#" class="text-white no-underline text-base hover:text-gray-300">Net Worth</a></li>
            <li class="mb-2 sm:mb-0"><a href="#" class="text-white no-underline text-base hover:text-gray-300">Loans & Lending</a></li>
            <li class="mb-2 sm:mb-0"><a href="#" class="text-white no-underline text-base hover:text-gray-300">Settings</a></li>
        </ul>
    </nav>

    <main class="p-4 sm:p-8 max-w-4xl mx-auto">
        <section class="date-range mb-6 sm:mb-8">
            <h2 class="text-lg sm:text-xl font-bold text-gray-800 mb-4">Select Date Range</h2>
            <div class="flex flex-col sm:flex-row gap-2 sm:gap-4">
                <input type="date" id="start-date" class="border border-gray-300 rounded p-3 text-base w-full sm:w-auto">
                <input type="date" id="end-date" class="border border-gray-300 rounded p-3 text-base w-full sm:w-auto">
                <button onclick="generateStatement()" class="bg-blue-600 text-white py-3 px-4 rounded hover:bg-blue-700 text-base">Generate Statement</button>
                <button class="download-btn bg-green-500 text-white py-3 px-4 rounded hover:bg-green-600 text-base" onclick="downloadPDF()">Download as PDF</button>
            </div>
        </section>

        <section class="statement-section mb-6" id="income">
            <h2 class="text-base sm:text-lg font-semibold text-gray-800">Income</h2>
            <p class="text-gray-600 text-sm sm:text-base" id="income-total">Total Income: ₹0.00</p>
        </section>

        <section class="statement-section mb-6" id="expenses">
            <h2 class="text-base sm:text-lg font-semibold text-gray-800">Expenses</h2>
            <p class="text-gray-600 text-sm sm:text-base" id="expenses-total">Total Expenses: ₹0.00</p>
        </section>

        <section class="statement-section mb-6" id="fuel-costs">
            <h2 class="text-base sm:text-lg font-semibold text-gray-800">Fuel Costs</h2>
            <p class="text-gray-600 text-sm sm:text-base" id="fuel-costs-total">Total Fuel Cost: ₹0.00</p>
        </section>

        <section class="statement-section mb-6" id="investments">
            <h2 class="text-base sm:text-lg font-semibold text-gray-800">Investments</h2>
            <p class="text-gray-600 text-sm sm:text-base" id="investments-total">Total Investments: ₹0.00</p>
        </section>

        <section class="statement-section mb-6" id="loans">
            <h2 class="text-base sm:text-lg font-semibold text-gray-800">Loans (Borrowed)</h2>
            <p class="text-gray-600 text-sm sm:text-base" id="loans-total">Total Loans: ₹0.00</p>
        </section>

        <section class="statement-section mb-6" id="lending">
            <h2 class="text-base sm:text-lg font-semibold text-gray-800">Lending (Lent)</h2>
            <p class="text-gray-600 text-sm sm:text-base" id="lending-total">Total Lending: ₹0.00</p>
        </section>

        <section class="statement-section mb-6" id="repayments">
            <h2 class="text-base sm:text-lg font-semibold text-gray-800">Repayments</h2>
            <p class="text-gray-600 text-sm sm:text-base" id="repayments-total">Total Repayments: ₹0.00</p>
        </section>

        <section class="statement-section mb-6" id="additional-amounts">
            <h2 class="text-base sm:text-lg font-semibold text-gray-800">Additional Amounts</h2>
            <p class="text-gray-600 text-sm sm:text-base" id="additional-amounts-total">Total Additional Amounts: ₹0.00</p>
        </section>
    </main>

    <script>
        function generateStatement() {
            // Mock data for demonstration (replace with API or database call)
            const mockData = {
                income: 50000.00,
                expenses: 30000.00,
                fuelCosts: 5000.00,
                investments: 20000.00,
                loans: 10000.00,
                lending: 15000.00,
                repayments: 5000.00,
                additionalAmounts: 2000.00
            };

            // Update DOM with formatted totals
            document.getElementById('income-total').textContent = `Total Income: ₹${mockData.income.toFixed(2)}`;
            document.getElementById('expenses-total').textContent = `Total Expenses: ₹${mockData.expenses.toFixed(2)}`;
            document.getElementById('fuel-costs-total').textContent = `Total Fuel Cost: ₹${mockData.fuelCosts.toFixed(2)}`;
            document.getElementById('investments-total').textContent = `Total Investments: ₹${mockData.investments.toFixed(2)}`;
            document.getElementById('loans-total').textContent = `Total Loans: ₹${mockData.loans.toFixed(2)}`;
            document.getElementById('lending-total').textContent = `Total Lending: ₹${mockData.lending.toFixed(2)}`;
            document.getElementById('repayments-total').textContent = `Total Repayments: ₹${mockData.repayments.toFixed(2)}`;
            document.getElementById('additional-amounts-total').textContent = `Total Additional Amounts: ₹${mockData.additionalAmounts.toFixed(2)}`;

            alert("Statement generated with mock data. Replace with real data source.");
        }

        function downloadPDF() {
            const element = document.querySelector('main');
            const opt = {
                margin: 0.5, // Reduced for mobile
                filename: 'Financial_Statement.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: window.devicePixelRatio || 1 }, // Use device pixel ratio for mobile
                jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
            };

            // Generate and download PDF
            html2pdf().set(opt).from(element).save();
        }
    </script>
</body>
</html>